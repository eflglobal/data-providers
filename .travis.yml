dist: trusty
language: python
python:
  - '2.7'
  - '3.5'
  - '3.6'

install:
  - pip install .
  - pip install docutils pygments  # Used to check package metadata.

script:
  - python setup.py check --strict --metadata --restructuredtext
  - python setup.py test

deploy:
  - on:
      python: '3.6'
      tags: true
    provider: pypi
    distributions: 'bdist_wheel sdist'
    user: efl_phx
